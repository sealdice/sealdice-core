import{_ as p,C as e,c as o,o as k,a8 as l,j as i,a,G as n}from"./chunks/framework.bOCt8wBo.js";const h="/sealdice-core/assets/platform-qq-turnoff.BeOWAmaj.png",r="/sealdice-core/assets/platform-qq-builtin-1.CrwUIyAe.png",E="/sealdice-core/assets/platform-qq-builtin-2.CsxwmFcJ.png",d="/sealdice-core/assets/platform-qq-builtin-gocq-1.CIU1i2Yk.png",g="/sealdice-core/assets/platform-qq-builtin-gocq-2.DC_US1un.png",u="/sealdice-core/assets/platform-qq-builtin-gocq-3.ClRw7IWE.png",y="/sealdice-core/assets/platform-qq-llonebot-2.CRkT2vLu.png",N=JSON.parse('{"title":"QQ","description":"","frontmatter":{"lang":"zh-cn","title":"QQ"},"headers":[],"relativePath":"deploy/platform-qq.md","filePath":"deploy/platform-qq.md","lastUpdated":1758531130000}'),q={name:"deploy/platform-qq.md"},C={class:"warning custom-block"},F={id:"内置客户端",tabindex:"-1"},Q={class:"warning custom-block"},c={id:"内置-gocq",tabindex:"-1"},b={id:"lagrange",tabindex:"-1"},m={id:"llonebot",tabindex:"-1"},B={id:"chronocat",tabindex:"-1"},f={id:"chronocat-satori-协议",tabindex:"-1"};function v(L,s,P,T,x,S){const t=e("Badge");return k(),o("div",null,[s[58]||(s[58]=l('<h1 id="qq" tabindex="-1">QQ <a class="header-anchor" href="#qq" aria-label="Permalink to &quot;QQ&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">本节内容</p><p>本节将包含你在 QQ 平台接入海豹核心需要了解的特定内容。</p></div><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><h3 id="有关-qq-平台机器人的说明" tabindex="-1">有关 QQ 平台机器人的说明 <a class="header-anchor" href="#有关-qq-平台机器人的说明" aria-label="Permalink to &quot;有关 QQ 平台机器人的说明&quot;">​</a></h3><p>直至目前，绝大部分群聊中的 QQ 机器人采用「<strong>假用户</strong>」方式，即通过第三方软件接入注册的另一个 QQ。<strong>QQ 官方一直在对第三方实现进行技术与非技术层面的多重打击。</strong></p><p>从目前的表现看来，QQ 官方会对账号行为进行检测，来区分出账号是否是正常用户（如不正常的登录方式，以不合理的速度在多地区登录等等）。我们无法得知具体的检测细节，但已证实的是，当 QQ 账号用作机器人并被检测到时，该 QQ 会视为风险账号，被官方予以警告，封禁，临时甚至 <strong>永久冻结</strong> 的惩罚。</p><p>尽管不同方案之间的差异很大（比如基于 Android QQ 协议的 Go-Cqhttp 已经<strong>基本不可用</strong>，而 <a href="#lagrange">Lagrange</a> 和 <a href="#NapCatQQ">NapCatQQ</a> 等基于 NTQQ 的方案目前比较稳定），但需要明白的是，这些方案都由社区第三方软件提供，实质上以 QQ 官方角度等同于「<strong>外挂软件</strong>」，并不受到官方支持（甚至是被打击的目标）。</p><p>因此，<em>是否在 QQ 平台搭建这样的非官方机器人取决于你的慎重考虑</em>。同时，第三方方案的可用性也可能会随时间推移而存在变化，海豹官方无法做出任何保证。</p><p>目前，仅有 <a href="./platform-qq-official.html">官方机器人服务</a> 是被 QQ 官方认可的机器人方案。该方案可用性由 QQ 官方保证，但目前 <strong>仅对企业用户和部分受邀个人用户开放</strong>，同时在功能上非常受限。</p><p>如果有可能，建议迁移到其它平台，在 QQ 平台选择何种方式取决于你自己的选择。</p><div class="danger custom-block"><p class="custom-block-title">危险</p><p>倘若出现账号被封禁等情况，海豹官方无力解决此类问题，也不对相应后果负责。</p></div><h3 id="对接引导" tabindex="-1">对接引导 <a class="header-anchor" href="#对接引导" aria-label="Permalink to &quot;对接引导&quot;">​</a></h3><p>所有支持的途径参见目录，本节提供了多种对接途径的引导。</p>',13)),i("p",null,[s[0]||(s[0]=a("从 ",-1)),n(t,{type:"tip",text:"v1.4.5"}),s[1]||(s[1]=a(" 开始，我们推荐使用 ",-1)),s[2]||(s[2]=i("a",{href:"#内置客户端"},"内置客户端",-1)),s[3]||(s[3]=a(" 进行连接，这是面向一般用户提供的简单对接方式，对于",-1)),s[4]||(s[4]=i("em",null,"有能力",-1)),s[5]||(s[5]=a("的骰主，我们",-1)),s[6]||(s[6]=i("em",null,"更推荐",-1)),s[7]||(s[7]=a("其他的分离部署方案。",-1))]),s[59]||(s[59]=l('<p>对于需要使用更加灵活的方案的用户，我们推荐如下：</p><ul><li>需要比较简单的部署流程，希望资源占用低的，见 <a href="#lagrange">Lagrange</a>；</li><li>需要比较简单的部署流程，不是特别在意资源占用的，见 <a href="#llonebot">LLOneBot</a>；</li><li>通过 docker 部署海豹的，见 <a href="./platform-qq-docker.html">QQ - Docker 中的海豹</a>；</li><li>如果你有 QQ 官方机器人权限，见 <a href="./platform-qq-official.html">官方机器人</a>；</li><li>Go-cqhttp 与 QSign 方案因可用性原因已被弃用。<strong>我们不建议任何用户再使用此方式部署 QQ 接入，同时强烈建议正在使用该方案的用户迁移</strong>。</li></ul><p>不同的对接方式适应不同的情况，可能会存在途径特有的功能缺失和其它问题，请根据自己的情况选择适合的方式。</p>',3)),i("div",C,[s[14]||(s[14]=i("p",{class:"custom-block-title"},[a("注意：对接基于 NTQQ PC 端协议的 QQ 方案时，注意对方是否支持 "),i("code",null,"戳一戳"),a(" 功能")],-1)),s[15]||(s[15]=i("p",null,"内置客户端/Lagrange、LLOneBot 和 Napcat 等基于 NTQQ PC 的 QQ 方案，在旧版本中由于 NTQQ 旧协议本身不支持的原因，缺失该功能。",-1)),s[16]||(s[16]=i("p",null,"请使用：",-1)),i("ul",null,[i("li",null,[s[8]||(s[8]=a("海豹版本 ",-1)),n(t,{type:"tip",text:"v1.4.6"}),s[9]||(s[9]=a(" 之前的内置客户端",-1))]),i("li",null,[n(t,{type:"tip",text:"6e350b0"}),s[10]||(s[10]=a(" 之前的 Lagrange",-1))]),i("li",null,[n(t,{type:"tip",text:"v3.27.0"}),s[11]||(s[11]=a(" 之前的 LLOneBot",-1))]),i("li",null,[n(t,{type:"tip",text:"v1.6.7"}),s[12]||(s[12]=a(" 之前的 Napcat",-1))]),s[13]||(s[13]=i("li",null,"……",-1))]),s[17]||(s[17]=i("p",null,[a("等方案的用户及时更新或"),i("strong",null,"关闭"),a("位于 "),i("code",null,"综合设置"),a(" - "),i("code",null,"基本设置"),a(" 的 "),i("code",null,"启用戳一戳"),a(" 开关，以免产生不必要的报错信息。")],-1)),s[18]||(s[18]=i("img",{src:h,alt:"关闭戳一戳开关",width:"80%"},null,-1))]),s[60]||(s[60]=i("div",{class:"warning custom-block"},[i("p",{class:"custom-block-title"},"注意"),i("p",null,"内置客户端、Lagrange、LLOneBot 和 Napcat 都占用 PC 端协议。在使用这些连接方式时，不可同时登录 PC 端 QQ，否则将导致挤占下线。"),i("p",null,"由于官方 QQ 设定，PC 端协议（即以上四种登录方式）每隔 30 天需要重新登录。")],-1)),i("h2",F,[s[19]||(s[19]=a("内置客户端 ",-1)),n(t,{type:"tip",text:"v1.4.5"}),s[20]||(s[20]=a()),s[21]||(s[21]=i("a",{class:"header-anchor",href:"#内置客户端","aria-label":'Permalink to "内置客户端 <Badge type="tip" text="v1.4.5" />"'},"​",-1))]),i("p",null,[s[22]||(s[22]=a("海豹从 ",-1)),n(t,{type:"tip",text:"v1.4.5"}),s[23]||(s[23]=a(" 开始提供内置客户端的连接方式。",-1))]),s[61]||(s[61]=l('<div class="warning custom-block"><p class="custom-block-title">注意</p><p>需要知道的是，该方案也是前言中提到的非官方机器人，并不受到 QQ 官方认可。</p><p>M 系列芯片 Mac 用户与部分无法使用内置客户端的手机用户请移步至<a href="#内置-gocq">内置 gocq</a></p></div><div class="danger custom-block"><p class="custom-block-title">危险：部分过时系统不支持</p><p>内置客户端暂不支持 Windows 7，Windows Server 2008，32 位 Windows 也不可用。</p><p>Windows Server 2012 可能会缺少部分运行库，需要自行下载安装。</p></div><p>进入海豹 Web UI 的「账号设置」新增连接，选择账号类型「QQ(内置客户端)」，这也是默认选项，填写 QQ 号，其余内容无需修改：</p><img src="'+r+'" alt="内置客户端" width="80%"><p>随后使用登录了目标账号的手机 QQ 尽快扫码登录（二维码会在十秒左右出现，请耐心等待）：</p><img src="'+E+'" alt="内置客户端扫码登录" width="40%"><p>在手机上确认登录以后，等待状态变为「已连接」即可。</p><p>登录的账号由扫码的账号决定，请不要询问 <code>为什么登录的是我自己的账号</code> 之类的问题。</p><div class="warning custom-block"><p class="custom-block-title">安卓端海豹扫码</p><p>由于 QQ 的安全策略并不支持图片识别或长按扫描二维码登录，你需要两个手机（一个运行海豹，一个扫码）或下载 TIM 软件扫码登录。</p></div>',9)),i("div",Q,[s[34]||(s[34]=i("p",{class:"custom-block-title"},"内置客户端版本",-1)),i("p",null,[s[24]||(s[24]=a("使用此方案应当尽快更新到 ",-1)),n(t,{type:"tip",text:"v1.4.6"}),s[25]||(s[25]=a(" 及以上版本的海豹，当遇到登录失败、无法回复等情况请先 ",-1)),s[26]||(s[26]=i("code",null,"尝试删除账号重新添加",-1)),s[27]||(s[27]=a("、",-1)),s[28]||(s[28]=i("code",null,"在「账号设置」界面切换签名服务",-1)),s[29]||(s[29]=a(" 等方法。",-1))]),i("p",null,[s[30]||(s[30]=a("对于 ",-1)),n(t,{type:"tip",text:"v1.4.6"}),s[31]||(s[31]=a(" 及以上版本的海豹，修改签名时",-1)),s[32]||(s[32]=i("em",null,"请勿随意修改签名版本",-1)),s[33]||(s[33]=a("，除非你知道自己在干什么。",-1))])]),i("h2",c,[s[35]||(s[35]=a("内置 gocq ",-1)),n(t,{type:"tip",text:"v1.5.0"}),s[36]||(s[36]=a()),s[37]||(s[37]=i("a",{class:"header-anchor",href:"#内置-gocq","aria-label":'Permalink to "内置 gocq <Badge type="tip" text="v1.5.0" />"'},"​",-1))]),i("p",null,[s[38]||(s[38]=a("海豹从 ",-1)),n(t,{type:"tip",text:"v1.5.0"}),s[39]||(s[39]=a(" 开始提供内置 gocq 的连接方式。",-1))]),s[62]||(s[62]=l('<div class="warning custom-block"><p class="custom-block-title">注意</p><p>需要知道的是，该方案也是前言中提到的非官方机器人，并不受到 QQ 官方认可。</p></div><p>进入海豹 Web UI 的「账号设置」新增连接，选择账号类型「QQ(内置 gocq)」，填写 QQ 号，其余内容无需修改：</p><img src="'+d+'" alt="选择内置 gocq"><img src="'+g+'" alt="内置 gocq 配置"><p>随后使用登录了目标账号的手机 QQ 尽快扫码登录（二维码会在十秒左右出现，请耐心等待）：</p><img src="'+u+'" alt="内置 gocq 扫码登录"><p>在手机上确认登录以后，等待状态变为「已连接」即可。</p><p>登录的账号由扫码的账号决定，请不要询问 <code>为什么登录的是我自己的账号</code> 之类的问题。</p><div class="warning custom-block"><p class="custom-block-title">安卓端海豹扫码</p><p>由于 QQ 的安全策略并不支持图片识别或长按扫描二维码登录，你需要两个手机（一个运行海豹，一个扫码）或下载 TIM 软件扫码登录。</p></div><div class="warning custom-block"><p class="custom-block-title">注意</p><p>使用此方案如遇到登录失败、无法回复等情况请先 <code>尝试删除账号重新添加</code>、<code>在「账号设置」界面切换签名服务</code> 等方法。</p><p>修改签名时<em>请勿随意修改签名版本</em>，除非你知道自己在干什么。</p></div><h2 id="分离部署" tabindex="-1">分离部署 <a class="header-anchor" href="#分离部署" aria-label="Permalink to &quot;分离部署&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">分离部署</p><p>不同于内置客户端，分离部署为海豹核心和 QQ 登录框架分别启动，然后按照各个框架的连接协议将海豹核心和 QQ 登录框架连接起来。</p><p>相比之下分离部署有更强的稳定性，但操作难度也有一定程度的增加。</p></div><div class="tip custom-block"><p class="custom-block-title">提示：不同的对接方式</p><p>使用此方法你可能需要对「QQ(onebot11正向WS)」、「QQ(onebot11反向WS)」、「[WIP]Satori」的区别有一定了解。</p><ul><li>「QQ(onebot11正向WS)」为 onebot11 标准的连接方式之一，由海豹核心主动连接 QQ 登录框架。在 UI 界面添加「连接地址」格式应当为 <code>ws://{Host}:{Port}</code>。</li><li>「QQ(onebot11反向WS)」为 onebot11 标准的连接方式之二，由 QQ 登录框架主动连接海豹核心。在 UI 界面添加「连接地址」格式应当为 <code>{Host}:{Port}</code>。</li><li>「[WIP]Satori」为 Satori 标准的连接方式，由海豹核心主动连接 QQ 登录框架。WIP 代表该对接方式为实验性的，可能会在未来发生变化。</li></ul></div><div class="danger custom-block"><p class="custom-block-title">公网机器部署时的端口暴露风险</p><p>分离部署时，会启用比内置登录更多的网络服务。请在配置防火墙时留意，避免这些服务端口暴露于公网。如确需公网访问，请设置强密码，以保障骰子安全。</p></div>',14)),i("h3",b,[s[40]||(s[40]=a("Lagrange ",-1)),n(t,{type:"tip",text:"v1.4.2"}),s[41]||(s[41]=a()),s[42]||(s[42]=i("a",{class:"header-anchor",href:"#lagrange","aria-label":'Permalink to "Lagrange <Badge type="tip" text="v1.4.2" />"'},"​",-1))]),i("p",null,[s[43]||(s[43]=a("海豹从 ",-1)),n(t,{type:"tip",text:"v1.4.2"}),s[44]||(s[44]=a(" 开始适配了 Lagrange（拉格兰）的连接。",-1))]),s[63]||(s[63]=l(`<div class="info custom-block"><p class="custom-block-title">Lagrange</p><p><a href="https://github.com/LagrangeDev/Lagrange.Core" target="_blank" rel="noreferrer">Lagrange</a>（拉格兰）是一个 NTQQ 协议相关的开源项目。其包括目前实现了 Linux NTQQ 协议的 Lagrange.Core，和提供 OneBot-V11 API 的 Lagrange.Onebot 两部分。</p><p>与 GoCqhttp 类似，Lagrange 可以很方便的在多个平台（Windows、Linux、Mac）部署，海豹核心可以对接其提供的 OneBot-V11 API 来提供 QQ 骰子服务。</p></div><h4 id="登录-lagrange" tabindex="-1">登录 Lagrange <a class="header-anchor" href="#登录-lagrange" aria-label="Permalink to &quot;登录 Lagrange&quot;">​</a></h4><p>请按照 <a href="https://lagrangedev.github.io/Lagrange.Doc/v1/Lagrange.OneBot/Config/" target="_blank" rel="noreferrer">Lagrange 手册</a>自行部署 Lagrange，并按照手册和自己的需求填写配置文件。</p><div class="warning custom-block"><p class="custom-block-title">Config</p><p>海豹的反向 ws 连接仅连接 <code>ws://{HOST}:{PORT}/ws</code> 地址。</p><p>以下的 <code>appsettings.json</code> 适合海豹连接。</p><blockquote><p><strong>正向</strong> ws 连接</p></blockquote><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Logging&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;LogLevel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Information&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Microsoft&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Warning&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Microsoft.Hosting.Lifetime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Information&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;SignServerUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://sign.lagrangecore.org/api/sign&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;SignProxyUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Account&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Uin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Protocol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Linux&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;AutoReconnect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;GetOptimumServer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;IgnoreSelf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;StringPost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;QrCode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ConsoleCompatibilityMode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Implementations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ForwardWebSocket&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;127.0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8101</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;HeartBeatInterval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;HeartBeatEnable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;AccessToken&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>按照以下配置登陆的 <code>Lagrange</code>，在海豹的 UI 中新增账号中，「账号类型」选择 <code>OneBot11 正向 WS</code>，连接地址填写 <code>ws://127.0.0.1:8101</code>。</p><blockquote><p><strong>反向</strong> ws 连接</p></blockquote><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Logging&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;LogLevel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Information&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Microsoft&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Warning&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Microsoft.Hosting.Lifetime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Information&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;SignServerUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://sign.lagrangecore.org/api/sign&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;SignProxyUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Account&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Uin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Protocol&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Linux&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;AutoReconnect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;GetOptimumServer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;IgnoreSelf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;StringPost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;QrCode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ConsoleCompatibilityMode&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Implementations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ReverseWebSocket&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;127.0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;Suffix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/ws&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;ReconnectInterval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;HeartBeatInterval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;HeartBeatEnable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;AccessToken&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>按照以下配置登陆的 <code>Lagrange</code>，在海豹的 UI 中新增账号中，「账号类型」选择 <code>OneBot11 反向 WS</code>，连接地址填写 <code>:8100</code>。</p></div><h4 id="海豹连接-lagrange" tabindex="-1">海豹连接 Lagrange <a class="header-anchor" href="#海豹连接-lagrange" aria-label="Permalink to &quot;海豹连接 Lagrange&quot;">​</a></h4><p>进入海豹 Web UI 的「账号设置」新增链接，按照自己的 Lagrange 配置文件选择 onebot11 账号类型，填写 QQ 号和「连接地址」。</p><p>成功连接后即可使用。</p>`,7)),i("h3",m,[s[45]||(s[45]=a("LLOneBot ",-1)),n(t,{type:"tip",text:"v1.4.2"}),s[46]||(s[46]=a()),s[47]||(s[47]=i("a",{class:"header-anchor",href:"#llonebot","aria-label":'Permalink to "LLOneBot <Badge type="tip" text="v1.4.2" />"'},"​",-1))]),i("p",null,[s[48]||(s[48]=a("海豹从 ",-1)),n(t,{type:"tip",text:"v1.4.2"}),s[49]||(s[49]=a(" 版本开始支持通过 OneBot 协议连接 LLOneBot。",-1))]),s[64]||(s[64]=l('<div class="info custom-block"><p class="custom-block-title">LLOneBot</p><p><a href="https://github.com/LiteLoaderQQNT/LiteLoaderQQNT" target="_blank" rel="noreferrer">LiteLoaderQQNT</a>（LiteLoader）是 NTQQ 的插件加载器，允许通过插件注入 QQ 实现某些特定的功能。</p><p><a href="https://github.com/LLOneBot/LLOneBot" target="_blank" rel="noreferrer">LLOneBot</a> 则是 Liteloader 的插件之一，可以实现劫持客户端对外开放 API，可以理解为装在 PC 上的 Shamrock。</p></div><div class="warning custom-block"><p class="custom-block-title">使用此方案的用户请注意不要随意<em>更新</em> QQ 客户端。</p><p>由于 QQ 客户端检测机制的变化，更新 QQ 客户端后可能导致方案不可用，并且更新后需要重新安装登录框架，所以不建议用户随意更新 QQ 客户端。</p></div><h4 id="安装-llonebot" tabindex="-1">安装 LLOneBot <a class="header-anchor" href="#安装-llonebot" aria-label="Permalink to &quot;安装 LLOneBot&quot;">​</a></h4><p>请参考 <a href="https://llonebot.github.io/zh-CN/" target="_blank" rel="noreferrer">官方文档</a> 中的说明。</p><h4 id="配置-llonebot" tabindex="-1">配置 LLOneBot <a class="header-anchor" href="#配置-llonebot" aria-label="Permalink to &quot;配置 LLOneBot&quot;">​</a></h4><p>安装完成后重新登录 QQ，在 QQ 设置中 LLOneBot 的设置页：</p><p><img src="'+y+'" alt="LLOneBot 设置页"></p><p>支持两种方式与海豹对接：</p><ul><li>正向连接：默认开放的正向 ws 端口为 3001，在海豹的新添账号选择「QQ(onebot11正向WS)」，账号处随便填写，连接地址填 <code>ws://localhost:3001</code>。</li><li>反向连接：关闭 LLOneBot 的正向连接开关，打开 LLOneBot 的反向连接开关，在「反向WebSocket监听地址」里点击「添加」，输入 <code>ws://127.0.0.1:4001/ws</code>，然后在海豹的新添账号选择「QQ(onebot11反向WS)」，输入账号。</li></ul><div class="tip custom-block"><p class="custom-block-title">提示</p><ul><li>如若想修改端口请在 LLOneBot 的设置 UI 自行修改。</li><li>请注意设置中的正向连接和反向连接请 <strong>不要同时打开</strong>，否则会发不出消息。</li><li><strong>如果你是在服务器上部署，可能需要使用 <a href="https://memreduct.org/mem-reduct-download/" target="_blank" rel="noreferrer">Mem Reduct</a> 之类的工具定时清理过高的内存占用。</strong></li></ul></div><h3 id="napcatqq" tabindex="-1">NapCatQQ <a class="header-anchor" href="#napcatqq" aria-label="Permalink to &quot;NapCatQQ&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">NapCatQQ</p><p><a href="https://github.com/NapNeko/NapCatQQ" target="_blank" rel="noreferrer">NapCatQQ</a> 是在后台低占用运行的无头（没有界面）的 NTQQ，具体占用会因人而异，QQ 群、好友越多占用越高。</p><p><a href="https://napneko.github.io" target="_blank" rel="noreferrer">NapCat 官方文档</a></p></div><div class="warning custom-block"><p class="custom-block-title">使用此方案的用户请注意不要随意 <em>更新</em> QQ 客户端。</p><p>由于 QQ 客户端检测机制的变化，更新 QQ 客户端后可能导致方案不可用，并且更新后需要重新安装登录框架，所以不建议用户随意更新 QQ 客户端。</p></div><p>NapCat 是基于官方 NTQQ 实现的 Bot 框架，因此在开始前，你需要根据 <a href="https://napneko.github.io/guide/start-install" target="_blank" rel="noreferrer">NapCatQQ</a> 的手册安装官方 QQ，若 QQ 版本过低会导致程序无法正常启动。</p><h4 id="下载-napcatqq" tabindex="-1">下载 NapCatQQ <a class="header-anchor" href="#下载-napcatqq" aria-label="Permalink to &quot;下载 NapCatQQ&quot;">​</a></h4><p>请按照 <a href="https://napneko.github.io/guide/start-install" target="_blank" rel="noreferrer">NapCat 官方手册</a> 下载安装，然后按照 <a href="https://napneko.github.io/config/basic" target="_blank" rel="noreferrer">基础配置</a> 和自己的需求修改配置文件。</p><h4 id="海豹连接" tabindex="-1">海豹连接 <a class="header-anchor" href="#海豹连接" aria-label="Permalink to &quot;海豹连接&quot;">​</a></h4><p>进入海豹 Web UI 的「账号设置」新增链接，按照自己的配置文件选择 onebot11 账号类型，填写 QQ 号和「连接地址」。</p><p>成功连接后即可使用。</p>',19)),i("h3",B,[s[50]||(s[50]=a("Chronocat ",-1)),n(t,{type:"tip",text:"v1.4.2"}),s[51]||(s[51]=a()),s[52]||(s[52]=i("a",{class:"header-anchor",href:"#chronocat","aria-label":'Permalink to "Chronocat <Badge type="tip" text="v1.4.2" />"'},"​",-1))]),i("p",null,[s[53]||(s[53]=a("从 ",-1)),n(t,{type:"tip",text:"v1.4.5"}),s[54]||(s[54]=a(" 开始适配了与 Chronocat 的 Satori 协议连接。",-1))]),s[65]||(s[65]=i("h4",{id:"安装-chronocat",tabindex:"-1"},[a("安装 Chronocat "),i("a",{class:"header-anchor",href:"#安装-chronocat","aria-label":'Permalink to "安装 Chronocat"'},"​")],-1)),s[66]||(s[66]=i("p",null,[a("请按照 "),i("a",{href:"https://chronocat.vercel.app/guide/install/shell",target:"_blank",rel:"noreferrer"},"官方手册"),a(" 安装 Chronocat。")],-1)),i("h4",f,[s[55]||(s[55]=a("Chronocat Satori 协议 ",-1)),n(t,{type:"tip",text:"v1.4.5"}),s[56]||(s[56]=a()),s[57]||(s[57]=i("a",{class:"header-anchor",href:"#chronocat-satori-协议","aria-label":'Permalink to "Chronocat Satori 协议 <Badge type="tip" text="v1.4.5" />"'},"​",-1))]),s[67]||(s[67]=i("p",null,"在账号添加中，选择「[WIP]Satori」，填写相应信息进行连接。",-1))])}const w=p(q,[["render",v]]);export{N as __pageData,w as default};
