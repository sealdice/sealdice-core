---
lang: zh-cn
title: 龙与地下城 
---

# 龙与地下城 

::: info 本节内容

本节将展示 **DND 5e** 玩家所需指令，请善用侧边栏和搜索，按需阅读文档。

:::

::: note 龙与地下城

**「龙与地下城」** 是一款剑与魔法奇幻背景的叙事性角色扮演游戏。与孩提时代的过家家扮演游戏相似，D&D 依靠的是玩家无穷的想象力。你所需要做的，即是描述场景如暴风骤雨里，夜空下的某座高耸古堡。然后想象奇幻世界中的冒险者们会如何迎接即将到来的挑战。

:::

### .dnd 制卡指令

格式: `.dnd (<数量>)` // 制卡指令，返回<数量>组人物属性，最高为 10 次

格式: `.dndx (<数量>)` // 制卡指令，但带有属性名，最高为 10 次

别名: 无

可用范围: 群内、私聊

自由分配模式:

```
xxxxxxxxxx
.dnd 5
Dice:
<木落>的DnD5e人物作成(自由分配模式):
[16, 16, 14, 11, 10, 9] = 76
[16, 15, 15, 12, 9, 9] = 76
[16, 15, 14, 13, 13, 12] = 83
[18, 17, 15, 14, 13, 8] = 85
[15, 14, 13, 13, 10, 8] = 73
获取带属性名的预设请用.dndx
```

预设模式:

```
xxxxxxxxxx
.dndx 5
<木落>的DnD5e人物作成(预设模式):
力量:16 体质:9 敏捷:14 智力:10 感知:13 魅力:10 共计:72
力量:13 体质:12 敏捷:8 智力:8 感知:14 魅力:9 共计:64
力量:16 体质:10 敏捷:11 智力:14 感知:12 魅力:10 共计:73
力量:9 体质:17 敏捷:15 智力:9 感知:10 魅力:13 共计:73
力量:12 体质:6 敏捷:8 智力:13 感知:10 魅力:8 共计:57
自由分配模式请用.dnd
```

### .ri 先攻设置

格式: `.ri <先攻值> <角色名>` // 角色名省略为当前角色

格式: `.ri +2 <角色名>` // 先攻值格式 1，解析为 D20+2

格式: `.ri 12 <角色名>` // 先攻值格式 2，解析为 12

格式: `.ri =D20+3 <角色名>` // 先攻值格式 3，解析为 D20+3

格式: `.ri <单项>, <单项>, ...` // 允许连写，逗号分隔

别名: 无

可用范围: 群内

先攻

```
xxxxxxxxxx
// 单独设置
.ri +2 // 为自己设定
.ri +3 狗头人1 // D20加值方式
.ri =D20+2 狗头人1 // 表达式方式
.ri 30 狗头人1  // 数值方式


// 批量设置
.ri +2 狗头人1, 3 狗头人2, =d30 狗头人3 +3
Dice:
先攻点数设置:
 1. 狗头人1: 10[1d20=10] + 2=12
 2. 狗头人2: 3
 3. 狗头人3: 1
 4. 木落: 1[1d20=1] + 3=4

```

### .init 先攻列表

格式: `.init` // 查看先攻列表

格式: `.init del <单位1> <单位2> ...` // 从先攻列表中删除

格式: `.init set <单位名称> <先攻表达式>` // 设置单位的先攻

格式: `.init clr` // 清除先攻列表

格式: `.init help` // 显示本帮助

别名: 无

可用范围: 群内

```
xxxxxxxxxx
// 设置先攻
.ri +2 狗头人1, 4 狗头人2, 12 木落
Dice:
先攻点数设置:
 1. 狗头人1: 8[1d20=8] + 2=10
 2. 狗头人2: 4
 3. 木落: 12

// 查看列表
.init
Dice:
当前先攻列表为:
 1. 木落: 12
 2. 狗头人2: 10
 3. 狗头人1: 4
```

### .st DND 属性设置

格式: `.st 模板` // 录卡模板

格式: `.st show` // 展示个人属性

格式: `.st show <属性1> <属性2> ...` // 展示特定的属性数值

格式: `.st show <数字>` // 展示高于<数字>的属性，如.st show 30

格式: `.st clr/clear` // 清除属性

格式: `.st del <属性1> <属性2> ...` // 删除属性，可多项，以空格间隔

格式: `.st export` // 导出，包括属性和法术位

格式: `.st help` // 帮助

格式: `.st <属性>:<值>` // 设置属性，技能加值会自动计算。例：.st 感知:20 洞悉:3

格式: `.st <属性>±<表达式>` // 例：.st 生命+1d4

格式: `.st hp-1d6 --over` // 不计算临时生命扣血

别名: `.dst`

可用范围: 群内

DND 的录卡，和属性操作指令。

这个指令最好在关闭 COC 扩展时使用，如果一起用，可以使用`.dst`来规避指令冲突。

目前支持技能调整值的自动计算，包括属性带来的加值，和熟练带来的加值。

使用模板录卡:

```
xxxxxxxxxx
// 查看模板
.st 模板
Dice:
人物卡模板(第二行文本):
.dst 力量:10 体质:10 敏捷:10 智力:10 感知:10 魅力:10 hp:10 hpmax: 10 熟练:2 运动:0 特技:0 巧手:0 隐匿:0 调查:0 奥秘:0 历史:0 自然:0 宗教:0 察觉:0 洞悉:0 驯养:0 医疗:0 生存:0 说服:0 欺诈:0 威吓:0 表演:0
注意: 技能只填写修正值即可，属性调整值会自动计算。熟练写为“运动*:0”

// 录卡
.st 力量:12 体质:10 敏捷:10 智力:10 感知:10 魅力:10 hp:10 hpmax: 10 熟练:2 运动*:3 特技:1 巧手:0 隐匿:0 调查:0 奥秘:0 历史:0 自然:0 宗教:0 察觉:0 洞悉:0 驯养:0 医疗:0 生存:0 说服:0 欺诈:0 威吓:0 表演:0
Dice:
<木落>的dnd5e人物属性设置如下:
读入: 力量:12, 体质:10, 敏捷:10, 智力:10, 感知:10, 魅力:10, hp:10, hpmax:10, 熟练:2, 运动:3[技能, 熟练], 特技:1[技能], 巧手:0[技能], 隐匿:0[技能], 调查:0[技能], 奥秘:0[技能], 历史:0[技能], 自然:0[技能], 宗教:0[技能], 察觉:0[技能], 洞悉:0[技能], 驯养:0[技能], 医疗:0[技能], 生存:0[技能], 说服:0[技能], 欺诈:0[技能], 威吓:0[技能], 表演:0[技能]
```

查看

```
xxxxxxxxxx
.st show // 查看属性
<木落>的个人属性为:
力量: 12  敏捷: 10  体质: 10  智力: 10
感知: 10  魅力: 10  hp: 10  hpmax: 10
EXP: 0  熟练: 2   特技: 1[基础值1] 运动: 6[基础值3]
... // 还有一堆 这里不写了

// 如果想查看部分，使用
.st show 力量 运动 熟练
<木落>的个人属性为:
力量: 12  熟练: 2   运动: 6[基础值3]

```

修改属性

```
xxxxxxxxxx
.st 力量 + 2
Dice:
人物属性设置如下:
修改: 力量(12 ➯ 14)
```

属性修改后，属性调整值会自动变更。不用再行关注。

**退游小技巧，黑暗录卡:**

```
xxxxxxxxxx
.st 力量:4d6k3 体质:4d6k3 敏捷:4d6k3 智力:4d6k3 感知:4d6k3 魅力:4d6k3 hp:10 hpmax: 10 熟练:2 运动:0 特技:0 巧手:0 隐匿:0 调查:0 奥秘:0 历史:0 自然:0 宗教:0 察觉:0 洞悉:0 驯养:0 医疗:0 生存:0 说服:0 欺诈:0 威吓:0 表演:0
```

对生命值的特殊支持：

- 当存在临时生命(buff 血量)，自动优先消耗。若临时生命不足以抵挡伤害，剩余会扣减血量
- 当生命值归零，若伤害大于等于血量上限，判定人物死亡
- 当生命值归零，若伤害小于血量上限，人物昏迷
- 当人物已经昏迷，不足致死的伤害自动折算为死亡豁免失败

一次性进行多个修改：

```
xxxxxxxxxx
.st hp-3 hp-3 hp-3
<木落>的dnd5e人物属性设置如下:
修改: hp(2 ➯ 0), hp(0 ➯ 0), hp(0 ➯ 0)
<木落>遭受了1点过量伤害，生命值降至0，陷入了昏迷！
<木落>在昏迷状态下遭受了3点过量伤害，死亡豁免失败+1！
<木落>在昏迷状态下遭受了3点过量伤害，死亡豁免失败+1！
```

此外，这个指令可以通过@来选定其他人（仅限一名），调整对方的属性。

特别注意：**.st clr 会同时清除法术位**

### .rc DND 检定

格式: `.rc <属性>` // .rc 力量

格式: `.rc <属性>豁免` // .rc 力量豁免

格式: `.rc <表达式>` // .rc 力量+3

格式: `.rc 优势 <表达式>` // .rc 优势 力量+4

格式: `.rc 劣势 <表达式> (原因)` // .rc 劣势 力量+4 推一下试试

格式: `.rc <表达式> @某人` // 对某人做检定

别名: `.drc`

可用范围: 群内

示例

```
xxxxxxxxxx
.rc 运动
Dice:
<木落>的“运动”检定结果为:
8[1d20=8] + 6[运动=6] = 14
```

优势检定和劣势检定

```
xxxxxxxxxx
.rc 优势 力量+4
Dice:
<木落>的“力量+4”检定结果为:
17[{17 | 11 }] + 12[力量=12] + 4 = 33
```

带原因的检定:

```
xxxxxxxxxx
.rc 劣势 力量+4 推一下试试
Dice:
<木落>的“推一下试试”检定结果为:
17[{17 | 18 }] + 12[力量=12] + 4 = 33
```

此外，这个指令可以通过@来选定其他人（仅限一名）操作。

### 奇妙运用

你可以通过如下方式记录武器的熟练项。 .st 长剑=熟练加值（数字） .rc 长剑

```
xxxxxxxxxx
.st长剑=4
Dice:
<木落>的属性录入完成，本次录入了1条数据。
.rc 长剑
Dice:
<木落>的“长剑”检定(dnd5e)结果为:
16[1d20=16] + 4[长剑=4] = 20
```

### .buff DND 临时属性

格式: `.buff` // 展示当前 buff

格式: `.buff clr` // 清除 buff

格式: `.buff del <属性1> <属性2> ...` // 删除属性，可多项，以空格间隔

格式: `.buff help` // 帮助

格式: `.buff <属性>:<值>` // 设置 buff 属性，例：.buff 力量:4 奥秘\*:0，奥秘临时熟练加成

格式: `.buff <属性>±<表达式>` // 修改属性，例：.buff hp+1d4

格式: `.buff <属性>±<表达式> @某人` // 修改他人 buff 属性，例：.buff hp+1d4

别名: `.dbuff`

可用范围: 群内

目前这个指令的行为和 st 指令基本一致。

用于设置临时属性，例如虚假生命：

```
xxxxxxxxxx
.st hp:10
.buff hp : 1d4+4

Dice:
人物Buff属性设置如下:
读入: hp:5

.st show hp
hp: 16[10]
```

也可以用来设置其他属性:

```
xxxxxxxxxx
.st 力量:10  运动:0
.buff 力量:6
.st show 力量 运动

Dice:
<木落>的个人属性为:
力量: 16[10]  运动: 3[0]
```

临时的技能熟练（装备或法术效果）：

```
xxxxxxxxxx
.st 力量:10  运动:0 熟练:3
.buff 运动*:0
.st show 力量 运动

Dice:
<木落>的个人属性为:
力量: 16[10]  运动: 6[0]
```

删除和清空

```
xxxxxxxxxx
.buff del hp
Dice: <木落>的如下buff属性被成功删除:hp，失败0项

.buff clr
Dice: <木落>的BUFF数据已经清除，共计0条
```

此外，这个指令可以通过@来选定其他人（仅限一名）操作。

### .ss 法术位(spell slots)

格式: `.ss` // 查看当前法术位状况

格式: `.ss init 4 3 2` // 设置 1 2 3 环的法术位上限，以此类推到 9 环

格式: `.ss set 2环 4` // 单独设置某一环的法术位上限，可连写多组，逗号分隔

格式: `.ss clr` // 清除法术位设置

格式: `.ss rest` // 恢复所有法术位(不回复 hp)

格式: `.ss 3环 +1` // 增加一个 3 环法术位（不会超过上限）

格式: `.ss lv3 +1` // 增加一个 3 环法术位 - 另一种写法

格式: `.ss 3环 -1` // 消耗一个 3 环法术位，也可以用.cast 3

别名: `.法术位` `.dss`

可用范围: 群内

```
xxxxxxxxxx
.ss init 3 4 5
为<木落>设置法术位: 1环3个, 2环4个, 3环5个

.ss 1环 -1
<木落>的1环法术位消耗至2个，上限3个

.ss
Dice: <木落>的法术位状况: 1环:2/3, 2环:4/4, 3环:5/5

.ss rest
Dice: <木落>的法术位已经完全恢复

.ss set 4环 3
Dice: 为<木落>设置法术位: 4环3个
```

此外，这个指令可以通过@来选定其他人（仅限一名）操作。

特别注意：**.st clr 会同时清除法术位**

### .cast 使用法术位

格式: `.cast 1` // 消耗 1 个 1 环法术位

格式: `.cast 1 2` // 消耗 2 个 1 环法术位

别名: `.dcast`

可用范围: 群内

```
xxxxxxxxxx
.cast 2  // 或者写2环也是可以的
Dice: <木落>的2环法术位消耗至3个，上限4个
```

此外，这个指令可以通过@来选定其他人（仅限一名）操作。

### .longrest / .长休

格式: `.长休` // 恢复生命值(必须设置 hpmax 且 hp>0)和法术位

格式: `.longrest` // 另一种写法别名: `.dcast`

可用范围: 群内

有 hpmax，有法术位的情况:

```
xxxxxxxxxx
.长休
Dice: <木落>的长休: hp得到了恢复，现为12 法术位得到了恢复
```

两个都没有的情况：

```
xxxxxxxxxx
.长休
<木落>的长休: 没有设置hpmax，无法回复hp
```

此外，这个指令可以通过@来选定其他人（仅限一名）操作。

### .ds / .死亡豁免

格式: `.死亡豁免` // 恢复生命值(必须设置 hpmax 且 hp>0)和法术位

格式: `.ds` // 别名

格式: `.ds +1d4` // 检定时添加 1d4 的加值

格式: `.ds 成功±1` // 死亡豁免成功 ±1，可简写为.ds s±1

格式: `.ds 失败±1` // 死亡豁免失败 ±1，可简写为.ds f±1

格式: `.ds stat` // 查看当前死亡豁免情况

格式: `.ds help` // 查看帮助

可用范围: 群内

注意，st 指令对 hp 的操作也会自动触发死亡豁免。

```
xxxxxxxxxx
.st hp:3 hpmax:12
Dice:
<木落>的dnd5e人物属性设置如下:
读入: hp:3, hpmax:12
```

陷入昏迷:

```
xxxxxxxxxx
.st hp-10
<木落>的dnd5e人物属性设置如下:
修改: hp(3 ➯ 0)
<木落>遭受了7点过量伤害，生命值降至0，陷入了昏迷！
```

昏迷后被攻击:

```
xxxxxxxxxx
<木落>的dnd5e人物属性设置如下:
修改: hp(0 ➯ 0)
<木落>在昏迷状态下遭受了1点过量伤害，死亡豁免失败+1！
```

死亡:

```
xxxxxxxxxx
<木落>的死亡豁免检定: [1d20=3]=3 有些不妙！死亡豁免失败+1
你获得了3次死亡豁免检定失败，不幸去世了！
```

医学奇迹:

```
xxxxxxxxxx
<木落>的死亡豁免检定: [1d20=20]=20 你觉得你还可以抢救一下！HP回复1点！
```

此外，这个指令可以通过@来选定其他人（仅限一名）操作。